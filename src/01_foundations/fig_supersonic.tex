% src/01_foundations/fig_supersonic.tex 
\begin{figure}[H]
\centering
	\begin{tikzpicture}[font=\small, scale=1.4]
		% Titles
		\node[baseBlack] at (1,1.3) {\large Supersonic Nozzle};
		\node[baseBlack] at (6,1.3) {\large Supersonic Diffuser};

		%%%%%%%%%%%%%%%%%%%%%%%%
		% Supersonic Nozzle on the left (diverging duct)
		%%%%%%%%%%%%%%%%%%%%%%%%
		% For a diverging nozzle:
		% Left side narrower, right side wider
		\draw[baseBlack, thick] (0,0.5) -- (2,1) -- (2,-1) -- (0,-0.5) -- cycle;

		% Flow arrow into nozzle
		\draw[line width=1.2pt, blueColor, -{Stealth[length=6pt]}] (-1.2,0) -- (0,0) 
		  node[midway, above, sloped, baseBlack]{supersonic};

		% Parameters in the supersonic nozzle
		% Green parameters (top line)
		\node[greenColor] at (1.0,0.3) {Ma $\uparrow$ \quad V $\uparrow$};

		% Red parameters (below)
		\node[redColor] at (1.0,-0.05) {P $\downarrow$ \quad T $\downarrow$ \quad $\rho \downarrow$};

		%%%%%%%%%%%%%%%%%%%%%%%%
		% Supersonic Diffuser on the right (converging duct)
		%%%%%%%%%%%%%%%%%%%%%%%%
		% For a converging diffuser:
		% Left side wider, right side narrower
		\draw[baseBlack, thick] (5,1) -- (7,0.5) -- (7,-0.5) -- (5,-1) -- cycle;

		% Flow arrow into diffuser
		\draw[line width=1.2pt, blueColor, -{Stealth[length=6pt]}] (3.8,0) -- (5,0) 
		  node[midway, above, sloped, baseBlack]{supersonic};

		% Parameters in the supersonic diffuser
		% Green parameters (top line)
		\node[greenColor] at (6.0,0.25) {T $\uparrow$ \quad P $\uparrow$ \quad $\rho \uparrow$};

		% Red parameters (below)
		\node[redColor] at (6.0,-0.05) {V $\downarrow$ \quad Ma $\downarrow$};
	\end{tikzpicture}
\caption{Change in flow properties in supersonic nozzles and diffusers \cite{Cengel2017}}
\label{fig:supersonic_nozzle_diffuser}
\end{figure}
